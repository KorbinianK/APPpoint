<dom-module id="user-element">


<style type="text/css">

</style>


<template>


	<template is="dom-repeat" items="{{userList}}">

			<paper-item >
				<div><iron-image id="avatar" sizing="cover"  style="width:50px; height:50px"; fade  src="{{item.picture}}"></iron-image></div>
			  <paper-item-body two-line class="paper-item-body-0">
			    <div><span>{{item.lastName}}</span> <span>{{item.firstName}}</span></div>
					<div secondary>Email: <span>{{item.email}}</span></div>

			  </paper-item-body>

			</paper-icon-item>


		</template>
  </template>

<script>


	Polymer({
		is: 'user-element',

		ready: function() {
			var self = this;
			var query = new Parse.Query(Parse.User);

			//query.equalTo("isTeacher",true);

			query.find().then(function(results){
				var List = [];
				console.log("blablub");
				for (i in results) {
					var item = {};
					var object = results[i];
					var picURL = object.get('profilePic');
						item ['firstName'] = object.get('firstName');
						item ['lastName'] = object.get('lastName');
						item ['email'] = object.get('email');

						if(picURL  != null)
						{
							picURL = picURL.url();
						}
						item ['picture'] = picURL;

						List.push(item);
						console.log(item);

			}
			self.userList = List;

		});

		}


	});
</script>
</dom-module>
