<dom-module id="user-element">


<style type="text/css">
paper-item-body{

				border-bottom: 1px solid lightgray;

}
	paper-item-body.paper-item-body-0 {
      display:-ms-flexbox;
      display:-webkit-flex;
      display:flex;

      -ms-flex-direction:column;
      -webkit-flex-direction:column;
      flex-direction:column;-ms-flex-pack:center;
      -webkit-justify-content:center;
      justify-content:center;-ms-flex:1 1 0.000000001px;
      -webkit-flex:1;
      flex:1;
      -webkit-flex-basis:0.000000001px;
      flex-basis:0.000000001px;

}

paper-item-body.paper-item-body-0[two-line] {
  min-height:72px;

}



paper-item-body.paper-item-body-0  [secondary] {
  color:#757575;font-family:'Roboto', 'Noto', sans-serif;
      -webkit-font-smoothing:antialiased;

      font-size:14px;
      font-weight:400;
      line-height:20px;

}

iron-image {
	margin-right: 10px;
	border-radius: 50%;
	border-width: thick;
	border-color: red;
}
</style>


<template>
	<button id="userList" on-click="{{onClick}}"></button>

	<template is="dom-repeat" items="{{userList}}">

			<paper-item >
				<div><iron-image id="avatar" sizing="cover"  style="width:50px; height:50px"; fade  src="{{item.picture}}"></iron-image></div>
			  <paper-item-body two-line class="paper-item-body-0">
			    <div><span>{{item.lastName}}</span> <span>{{item.firstName}}</span></div>
					<div secondary>Email: <span>{{item.email}}</span></div>

			  </paper-item-body>

			</paper-icon-item>


		</template>
  </template>

<script>


	Polymer({
		is: 'user-element',

		ready: function() {
			var self = this;
			var query = new Parse.Query(Parse.User);

			//query.equalTo("isTeacher",true);

			query.find().then(function(results){
				var List = [];
				console.log("blablub");
				for (i in results) {
					var item = {};
					var object = results[i];
					var picURL = object.get('profilePic');
						item ['firstName'] = object.get('firstName');
						item ['lastName'] = object.get('lastName');
						item ['email'] = object.get('email');

						if(picURL  != null)
						{
							picURL = picURL.url();
						}
						item ['picture'] = picURL;

						List.push(item);
						console.log(item);

			}
			self.userList = List;

		});

		}


	});
</script>
</dom-module>
